---
title: "Untitled"
author: "Sasso Etien Pierre Jean-David"
date: "2025-11-18"
output:
  pdf_document: default
  html_document: default
---
---
title: "Untitled"
author: "Sasso Etien Pierre Jean-David"
date: "2025-11-18"
output:
  html_document: default
  pdf_document: default
---

*#Analyse descriptive*
```{r}
# Import des données
df <- read.csv("/Users/jean-davidsasso/Documents/UCA/DataMining/TP SAE/Données du projet-20251118/croissance_net.csv", header = TRUE, sep = ",")

# Aperçu rapide
head(df)
str(df)
summary(df)
```
```{r}
# Stat descriptives de base sur les variables numériques
summary(df[, c("age", "taille", "poids")])

```

```{r}
library(dplyr)
library(ggplot2)

# Variables dérivées utiles
df <- df %>%
  mutate(
    age_round   = floor(age),  # âge entier
    age_classe4 = cut(age,
                      breaks = c(0, 6, 11, 16, 19),
                      right  = FALSE,
                      labels = c("0-5", "6-10", "11-15", "16-18")),
    imc = poids / (taille/100)^2  # Indice de masse corporelle
  )
```

```{r}
library(ggplot2)
library(dplyr)

# On prépare les données : longues → format "long"
df_plot <- resultat_clean_test %>%
  select(variable, age_interp, filles = estimate1, garcons = estimate2) %>%
  tidyr::pivot_longer(cols = c(filles, garcons),
                      names_to = "sexe",
                      values_to = "valeur")

ggplot(df_plot, aes(x = age_interp, y = valeur, color = sexe)) +
  geom_line(size = 1.4) +
  facet_wrap(~ variable, scales = "free_y") +
  theme_minimal(base_size = 14) +
  scale_color_manual(values = c("filles" = "hotpink", "garcons" = "steelblue")) +
  labs(
    title = "Évolution de la taille et du poids selon le sexe",
    x = "Âge",
    y = "Valeur (cm ou kg)",
    color = "Sexe"
  )

```


#####Analyse pour femmes#####

```{r}
df_f <- df %>% filter(sexe == "F")
```

```{r}
# Boxplots taille ~ classe d'âge
ggplot(df_f, aes(age_classe4, taille)) +
  geom_boxplot(fill = "lightcoral", outlier.alpha = 0.3) +
  labs(title = "Taille par classe d'âge – Femmes",
       x = "Classe d'âge", y = "Taille (cm)") +
  theme_minimal()

# Violons poids ~ classe d'âge
ggplot(df_f, aes(age_classe4, poids)) +
  geom_violin(fill = "lightcoral", alpha = 0.6) +
  labs(title = "Poids par classe d'âge – Femmes",
       x = "Classe d'âge", y = "Poids (kg)") +
  theme_minimal()

```
*# Interpretation Taille par classes*
Il y a une augmentation nette et régulière de la taille lorsque l’on passe d’une classe d’âge à l’autre :
*-0–5 ans*
Médiane ≈ 95–100 cm
Forte variabilité (normal à cet âge)
Quelques valeurs >120 cm (enfants grands pour leur âge)
*-6–10 ans:*
Médiane ≈ 125–130 cm
Le boxplot s’est déplacé vers le haut → croissance normale
Dispersion plus faible que chez les 0–5 ans (croissance plus stable)
*-11–15 ans:*
Médiane ≈ 155–160 cm
C’est la classe la plus variable :
certains garçons sont encore petits (130–140 cm)
d’autres sont déjà très grands (175–185 cm)
→ C’est l’effet de la puberté, qui n’arrive pas au même moment pour tous.
*-16–18 ans:*
Médiane ≈ 170–175 cm
Variabilité plus faible → croissance quasi terminée
Quelques outliers et une dispersitions très faibles 

*# Interpretation poids par classes*
Le violin plot permet de voir la forme de la distribution, pas seulement la médiane :
*-0–5 ans:*
Poids concentré entre 10 et 20 kg
Distribution très resserrée -> peu de variation (enfants petits)
Mais quelques rares atteignent les 25-30 kg
*-6–10 ans:*
Poids centré autour de 25 kg
Forme plus large : diversité des morphologies
Quelques femmes dépassent 50–55 kg
*11–15 ans:*
Poids très dispersé (25 à 75 kg)
C’est la période la plus variable :
certains sont encore enfants physiquement
d’autres ont déjà pris beaucoup de masse 
-> encore une fois, effet direct de la puberté.
*16–18 ans:*
Distribution clairement déplacée vers le haut (35–90 kg souvent)
Quelques valeurs > 90 kg (hauts percentiles ou adolescents sportifs/obèses)

*Conclusion*
Chez les filles, la croissance suit un schéma classique : progression régulière de 0 à 10 ans, forte variabilité entre 11 et 15 ans liée à la puberté, puis stabilisation de la taille et poursuite d'une prise de poids entre 16 et 18 ans. Les boxplots et violons mettent en évidence des morphologies très différentes chez les adolescents.

*#Relation poids taille pour les femmes*
```{r}
ggplot(df_f, aes(taille, poids, color = age)) +
  geom_point(alpha = 0.3) +
  labs(title = "Relation taille–poids – Femmes",
       x = "Taille (cm)", y = "Poids (kg)", color = "Âge") +
  theme_minimal()

```

Le nuage de points montre une relation positive et fortement non linéaire entre taille et poids pour les filles.
Les petites tailles (70–120 cm) correspondent à des enfants jeunes ayant des poids faibles, avec une croissance relativement régulière.
À partir de 120 cm et surtout de 140–150 cm, la pente augmente fortement, ce qui correspond à la puberté où le gain en poids devient plus rapide.
La coloration par âge montre clairement que les adolescentes (couleur claire) occupent la partie supérieure droite du graphique, alors que les enfants plus jeunes (couleur foncée) se situent en bas à gauche.
Le graphique met donc en évidence une croissance conjointe en taille et en poids, structurée principalement par l’âge.

# Analyse pour hommes

```{r}
df_m <- df %>% filter(sexe == "M")
```

*#Boxplot et violon*
```{r}
ggplot(df_m, aes(age_classe4, taille)) +
  geom_boxplot(fill = "steelblue", outlier.alpha = 0.3) +
  labs(title = "Taille par classe d'âge – Hommes",
       x = "Classe d'âge", y = "Taille (cm)") +
  theme_minimal()

ggplot(df_m, aes(age_classe4, poids)) +
  geom_violin(fill = "steelblue", alpha = 0.6) +
  labs(title = "Poids par classe d'âge – Hommes",
       x = "Classe d'âge", y = "Poids (kg)") +
  theme_minimal()

```
*# Interpretation Taille par classes*
Il y a une augmentation nette et régulière de la taille lorsque l’on passe d’une classe d’âge à l’autre :
*-0–5 ans*
Médiane ≈ 95–100 cm
Forte variabilité (normal à cet âge)
Quelques valeurs >120 cm (enfants grands pour leur âge)
*-6–10 ans:*
Médiane ≈ 125–130 cm
Le boxplot s’est déplacé vers le haut → croissance normale
Dispersion plus faible que chez les 0–5 ans (croissance plus stable)
Mais quelques valeurs supérieur à 150cm
*-11–15 ans:*
Médiane ≈ 155–160 cm
C’est la classe la plus variable :
certains garçons sont encore petits (130–140 cm)
d’autres sont déjà très grands (175–185 cm)
→ C’est l’effet de la puberté, qui n’arrive pas au même moment pour tous.
*-16–18 ans:*
Médiane ≈ 170–175 cm
Variabilité plus faible → croissance quasi terminée
Quelques outliers > 190–200 cm (grands gabarits ou valeurs extrêmes)

*# Interpretation poids par classes*
Le violin plot permet de voir la forme de la distribution, pas seulement la médiane :
*-0–5 ans:*
Poids concentré entre 10 et 20 kg
Distribution très resserrée → peu de variation (enfants petits)
*-6–10 ans:*
Poids centré autour de 25 kg
Forme plus large : diversité des morphologies
Quelques garçons dépassent 40–50 kg
*11–15 ans:*
Poids très dispersé (25 à 75 kg)
C’est la période la plus variable :
certains sont encore enfants physiquement
d’autres ont déjà pris beaucoup de masse
→ encore une fois, effet direct de la puberté.
*16–18 ans:*
Distribution clairement déplacée vers le haut (55–80 kg souvent)
Quelques valeurs > 90–100 kg (hauts percentiles ou adolescents sportifs/obèses)

*Conclusion*
Chez les garçons aussi, la croissance staturo-pondérale suit un schéma classique : progression régulière de 0 à 10 ans, forte variabilité entre 11 et 15 ans liée à la puberté, puis stabilisation de la taille et poursuite d'une prise de poids modérée entre 16 et 18 ans. Les boxplots et violons mettent en évidence des morphologies très différentes chez les adolescents, contrastant avec la relative homogénéité des enfants plus jeunes.

*#Relation poids taille pour les hommes en fonction de l'age*
```{r}
ggplot(df_m, aes(taille, poids, color = age)) +
  geom_point(alpha = 0.3) +
  labs(title = "Relation taille–poids – Hommes",
       x = "Taille (cm)", y = "Poids (kg)", color = "Âge") +
  theme_minimal()

```

Le nuage de points montre une relation positive et fortement non linéaire entre taille et poids pour les garçons.
Les petites tailles (70–120 cm) correspondent à des enfants jeunes ayant des poids faibles, avec une croissance relativement régulière.
À partir de 120 cm et surtout de 140–150 cm, la pente augmente fortement, ce qui correspond à la puberté où le gain en poids devient plus rapide.
La coloration par âge montre clairement que les adolescentes (couleur claire) occupent la partie supérieure droite du graphique, alors que les enfants plus jeunes (couleur foncée) se situent en bas à gauche.
Le graphique met donc en évidence une croissance conjointe en taille et en poids, structurée principalement par l’âge.


*#Densité du poids et de la taille selon le sexe*
```{r}
ggplot(df, aes(taille, fill = sexe)) +
  geom_density(alpha = 0.4) +
  labs(title = "Densité de la taille selon le sexe",
       x = "Taille (cm)", y = "Densité") +
  theme_minimal()

ggplot(df, aes(poids, fill = sexe)) +
  geom_density(alpha = 0.4) +
  labs(title = "Densité du poids selon le sexe",
       x = "Poids (kg)", y = "Densité") +
  theme_minimal()

```

Vue plus générale sur la densité de la taille et du poids 

```{r}
library(dplyr)

croissance_agec <- df %>%
  mutate(age_classe = cut(
    age,
    breaks = c(0, 5, 10, 15, 20),
    labels = c("0–5", "6–10", "11–15", "16–18"),
    right = FALSE
  ))

ggplot(croissance_agec, aes(x = taille, fill = sexe)) +
  geom_density(alpha = 0.4) +
  facet_wrap(~ age_classe, scales = "free_y") +
  scale_fill_manual(values = c("F" = "hotpink", "M" = "steelblue")) +
  labs(
    title = "Densité de la taille selon le sexe par classe d'âge",
    x = "Tailles(cm)",
    y = "Densité",
    fill = "Sexe"
  ) +
  theme_minimal()



ggplot(croissance_agec, aes(x = poids, fill = sexe)) +
  geom_density(alpha = 0.4) +
  facet_wrap(~ age_classe, scales = "free_y") +
  scale_fill_manual(values = c("F" = "hotpink", "M" = "steelblue")) +
  labs(
    title = "Densité de la taille selon le sexe par classe d'âge",
    x = "Poids (kg)",
    y = "Densité",
    fill = "Sexe"
  ) +
  theme_minimal()
```
Vue plus détaillé de la taille selon le sexe 
On constate plus de variation quand on regarde plus en détails

